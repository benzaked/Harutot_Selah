{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import Platform from\"react-native-web/dist/exports/Platform\";import{coalesceExpirations,coalesceStatuses,coalesceCanAskAgain,coalesceGranted}from\"./CoalescedPermissions\";import Permissions from\"./ExpoPermissions\";import{PermissionStatus}from\"./Permissions.types\";export{PermissionStatus};export var CAMERA='camera';export var CAMERA_ROLL='cameraRoll';export var AUDIO_RECORDING='audioRecording';export var LOCATION='location';export var USER_FACING_NOTIFICATIONS='userFacingNotifications';export var NOTIFICATIONS='notifications';export var CONTACTS='contacts';export var CALENDAR='calendar';export var REMINDERS='reminders';export var SYSTEM_BRIGHTNESS='systemBrightness';export function getAsync(){var _len,types,_key,_args=arguments;return _regeneratorRuntime.async(function getAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:for(_len=_args.length,types=new Array(_len),_key=0;_key<_len;_key++){types[_key]=_args[_key];}if(!(Platform.OS==='ios')){_context.next=5;break;}_context.next=4;return _regeneratorRuntime.awrap(_handleMultiPermissionsRequestIOSAsync(types,Permissions.getAsync));case 4:return _context.abrupt(\"return\",_context.sent);case 5:_context.next=7;return _regeneratorRuntime.awrap(_handlePermissionsRequestAsync(types,Permissions.getAsync));case 7:return _context.abrupt(\"return\",_context.sent);case 8:case\"end\":return _context.stop();}}});}export function askAsync(){var _len2,types,_key2,_args2=arguments;return _regeneratorRuntime.async(function askAsync$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:for(_len2=_args2.length,types=new Array(_len2),_key2=0;_key2<_len2;_key2++){types[_key2]=_args2[_key2];}if(!(Platform.OS==='ios')){_context2.next=5;break;}_context2.next=4;return _regeneratorRuntime.awrap(_handleMultiPermissionsRequestIOSAsync(types,Permissions.askAsync));case 4:return _context2.abrupt(\"return\",_context2.sent);case 5:_context2.next=7;return _regeneratorRuntime.awrap(_handlePermissionsRequestAsync(types,Permissions.askAsync));case 7:return _context2.abrupt(\"return\",_context2.sent);case 8:case\"end\":return _context2.stop();}}});}function _handleSinglePermissionRequestIOSAsync(type,handlePermission){return _regeneratorRuntime.async(function _handleSinglePermissionRequestIOSAsync$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(handlePermission(type));case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}});}function _handleMultiPermissionsRequestIOSAsync(types,handlePermission){var permissions,_iterator,_isArray,_i,_ref,_type;return _regeneratorRuntime.async(function _handleMultiPermissionsRequestIOSAsync$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(types.length){_context4.next=2;break;}throw new Error('At least one permission type must be specified');case 2:permissions={};_iterator=types,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol===\"function\"?typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\":\"@@iterator\"]();case 4:if(!_isArray){_context4.next=10;break;}if(!(_i>=_iterator.length)){_context4.next=7;break;}return _context4.abrupt(\"break\",20);case 7:_ref=_iterator[_i++];_context4.next=14;break;case 10:_i=_iterator.next();if(!_i.done){_context4.next=13;break;}return _context4.abrupt(\"break\",20);case 13:_ref=_i.value;case 14:_type=_ref;_context4.next=17;return _regeneratorRuntime.awrap(_handleSinglePermissionRequestIOSAsync(_type,handlePermission));case 17:permissions[_type]=_context4.sent;case 18:_context4.next=4;break;case 20:return _context4.abrupt(\"return\",{status:coalesceStatuses(permissions),expires:coalesceExpirations(permissions),canAskAgain:coalesceCanAskAgain(permissions),granted:coalesceGranted(permissions),permissions:permissions});case 21:case\"end\":return _context4.stop();}}});}function _handlePermissionsRequestAsync(types,handlePermissions){var permissions;return _regeneratorRuntime.async(function _handlePermissionsRequestAsync$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(types.length){_context5.next=2;break;}throw new Error('At least one permission type must be specified');case 2:_context5.next=4;return _regeneratorRuntime.awrap(handlePermissions(types));case 4:permissions=_context5.sent;return _context5.abrupt(\"return\",{status:coalesceStatuses(permissions),expires:coalesceExpirations(permissions),canAskAgain:coalesceCanAskAgain(permissions),granted:coalesceGranted(permissions),permissions:permissions});case 6:case\"end\":return _context5.stop();}}});}","map":{"version":3,"sources":["../src/Permissions.ts"],"names":[],"mappings":"yHAEA,OACE,mBADF,CAEE,gBAFF,CAGE,mBAHF,CAIE,eAJF,8BAMA,MAAO,CAAA,WAAP,yBACA,OAIE,gBAJF,2BASA,OACE,gBADF,EASA,MAAO,IAAM,CAAA,MAAM,CAAG,QAAf,CACP,MAAO,IAAM,CAAA,WAAW,CAAG,YAApB,CACP,MAAO,IAAM,CAAA,eAAe,CAAG,gBAAxB,CACP,MAAO,IAAM,CAAA,QAAQ,CAAG,UAAjB,CACP,MAAO,IAAM,CAAA,yBAAyB,CAAG,yBAAlC,CACP,MAAO,IAAM,CAAA,aAAa,CAAG,eAAtB,CACP,MAAO,IAAM,CAAA,QAAQ,CAAG,UAAjB,CACP,MAAO,IAAM,CAAA,QAAQ,CAAG,UAAjB,CACP,MAAO,IAAM,CAAA,SAAS,CAAG,WAAlB,CACP,MAAO,IAAM,CAAA,iBAAiB,CAAG,kBAA1B,CAEP,MAAO,SAAe,CAAA,QAAf,+KAA2B,KAA3B,0CAA2B,KAA3B,yBACD,QAAQ,CAAC,EAAT,GAAgB,KADf,2EAEU,sCAAsC,CAAC,KAAD,CAAQ,WAAW,CAAC,QAApB,CAFhD,gHAIQ,8BAA8B,CAAC,KAAD,CAAQ,WAAW,CAAC,QAApB,CAJtC,sGAOP,MAAO,SAAe,CAAA,QAAf,uLAA2B,KAA3B,+CAA2B,KAA3B,4BACD,QAAQ,CAAC,EAAT,GAAgB,KADf,6EAEU,sCAAsC,CAAC,KAAD,CAAQ,WAAW,CAAC,QAApB,CAFhD,mHAIQ,8BAA8B,CAAC,KAAD,CAAQ,WAAW,CAAC,QAApB,CAJtC,yGAOP,QAAe,CAAA,sCAAf,CACE,IADF,CAEE,gBAFF,uMAIe,gBAAgB,CAAC,IAAD,CAJ/B,yGAOA,QAAe,CAAA,sCAAf,CACE,KADF,CAEE,gBAFF,yMAIO,KAAK,CAAC,MAJb,+BAKU,IAAI,CAAA,KAAJ,CAAU,gDAAV,CALV,QAQM,WARN,CAQoB,EARpB,WASmB,KATnB,gfASW,KATX,yDAU8B,sCAAsC,CAAC,KAAD,CAAO,gBAAP,CAVpE,UAUI,WAAW,CAAC,KAAD,CAVf,wFAaS,CACL,MAAM,CAAE,gBAAgB,CAAC,WAAD,CADnB,CAEL,OAAO,CAAE,mBAAmB,CAAC,WAAD,CAFvB,CAGL,WAAW,CAAE,mBAAmB,CAAC,WAAD,CAH3B,CAIL,OAAO,CAAE,eAAe,CAAC,WAAD,CAJnB,CAKL,WAAW,CAAX,WALK,CAbT,kDAsBA,QAAe,CAAA,8BAAf,CACE,KADF,CAEE,iBAFF,gKAIO,KAAK,CAAC,MAJb,+BAKU,IAAI,CAAA,KAAJ,CAAU,gDAAV,CALV,0DAQ4B,iBAAiB,CAAC,KAAD,CAR7C,SAQQ,WARR,iDASS,CACL,MAAM,CAAE,gBAAgB,CAAC,WAAD,CADnB,CAEL,OAAO,CAAE,mBAAmB,CAAC,WAAD,CAFvB,CAGL,WAAW,CAAE,mBAAmB,CAAC,WAAD,CAH3B,CAIL,OAAO,CAAE,eAAe,CAAC,WAAD,CAJnB,CAKL,WAAW,CAAX,WALK,CATT","sourcesContent":["import { Platform } from 'react-native';\n\nimport {\n  coalesceExpirations,\n  coalesceStatuses,\n  coalesceCanAskAgain,\n  coalesceGranted,\n} from './CoalescedPermissions';\nimport Permissions from './ExpoPermissions';\nimport {\n  PermissionResponse,\n  PermissionType,\n  PermissionMap,\n  PermissionStatus,\n  PermissionExpiration,\n  PermissionInfo,\n} from './Permissions.types';\n\nexport {\n  PermissionStatus,\n  PermissionResponse,\n  PermissionExpiration,\n  PermissionMap,\n  PermissionInfo,\n  PermissionType,\n};\n\nexport const CAMERA = 'camera';\nexport const CAMERA_ROLL = 'cameraRoll';\nexport const AUDIO_RECORDING = 'audioRecording';\nexport const LOCATION = 'location';\nexport const USER_FACING_NOTIFICATIONS = 'userFacingNotifications';\nexport const NOTIFICATIONS = 'notifications';\nexport const CONTACTS = 'contacts';\nexport const CALENDAR = 'calendar';\nexport const REMINDERS = 'reminders';\nexport const SYSTEM_BRIGHTNESS = 'systemBrightness';\n\nexport async function getAsync(...types: PermissionType[]): Promise<PermissionResponse> {\n  if (Platform.OS === 'ios') {\n    return await _handleMultiPermissionsRequestIOSAsync(types, Permissions.getAsync);\n  }\n  return await _handlePermissionsRequestAsync(types, Permissions.getAsync);\n}\n\nexport async function askAsync(...types: PermissionType[]): Promise<PermissionResponse> {\n  if (Platform.OS === 'ios') {\n    return await _handleMultiPermissionsRequestIOSAsync(types, Permissions.askAsync);\n  }\n  return await _handlePermissionsRequestAsync(types, Permissions.askAsync);\n}\n\nasync function _handleSinglePermissionRequestIOSAsync(\n  type: PermissionType,\n  handlePermission: (type: PermissionType) => Promise<PermissionInfo>\n): Promise<PermissionInfo> {\n  return await handlePermission(type);\n}\n\nasync function _handleMultiPermissionsRequestIOSAsync(\n  types: PermissionType[],\n  handlePermission: (type: PermissionType) => Promise<PermissionInfo>\n): Promise<PermissionResponse> {\n  if (!types.length) {\n    throw new Error('At least one permission type must be specified');\n  }\n\n  let permissions = {};\n  for (let type of types) {\n    permissions[type] = await _handleSinglePermissionRequestIOSAsync(type, handlePermission);\n  }\n\n  return {\n    status: coalesceStatuses(permissions),\n    expires: coalesceExpirations(permissions),\n    canAskAgain: coalesceCanAskAgain(permissions),\n    granted: coalesceGranted(permissions),\n    permissions,\n  };\n}\n\nasync function _handlePermissionsRequestAsync(\n  types: PermissionType[],\n  handlePermissions: (types: PermissionType[]) => Promise<PermissionMap>\n): Promise<PermissionResponse> {\n  if (!types.length) {\n    throw new Error('At least one permission type must be specified');\n  }\n\n  const permissions = await handlePermissions(types);\n  return {\n    status: coalesceStatuses(permissions),\n    expires: coalesceExpirations(permissions),\n    canAskAgain: coalesceCanAskAgain(permissions),\n    granted: coalesceGranted(permissions),\n    permissions,\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}