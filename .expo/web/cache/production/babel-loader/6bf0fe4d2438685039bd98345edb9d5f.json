{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{PureComponent}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Image from\"react-native-web/dist/exports/Image\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import PropTypes from\"prop-types\";import TimeAgo from\"react-native-timeago\";import Icon from\"@expo/vector-icons/FontAwesome\";import styles from\"./styles/styles\";var Comment=function(_PureComponent){_inherits(Comment,_PureComponent);function Comment(props){var _this;_classCallCheck(this,Comment);_this=_possibleConstructorReturn(this,_getPrototypeOf(Comment).call(this,props));_this.getStyle=function(name){return _this.props.styles&&_this.props.styles[name]?_this.props.styles[name]:{};};_this.state={menuVisible:false};_this.handleReport=_this.handleReport.bind(_assertThisInitialized(_this));_this.handleReply=_this.handleReply.bind(_assertThisInitialized(_this));_this.handleLike=_this.handleLike.bind(_assertThisInitialized(_this));_this.handleEdit=_this.handleEdit.bind(_assertThisInitialized(_this));_this.handleDelete=_this.handleDelete.bind(_assertThisInitialized(_this));_this.handleUsernameTap=_this.handleUsernameTap.bind(_assertThisInitialized(_this));_this.handleLikesTap=_this.handleLikesTap.bind(_assertThisInitialized(_this));return _this;}_createClass(Comment,[{key:\"handleReport\",value:function handleReport(){var _this2=this;Alert.alert(\"Confirm report\",\"Are you sure you want to report?\",[{text:\"Yes\",onPress:function onPress(){return _this2.props.reportAction(_this2.props.id);}},{text:\"No\",onPress:function onPress(){return null;}}],true);this.setState({menuVisible:false});}},{key:\"handleReply\",value:function handleReply(){this.props.replyAction(this.props.data);}},{key:\"handleLike\",value:function handleLike(){this.props.likeAction(this.props.data);}},{key:\"handleEdit\",value:function handleEdit(){this.props.editComment(this.props.data);this.setState({menuVisible:false});}},{key:\"handleDelete\",value:function handleDelete(){var _this3=this;Alert.alert(\"Confirm delete\",\"Are you sure you want to delete?\",[{text:\"Yes\"+this.props.id,onPress:function onPress(){return _this3.props.deleteAction(_this3.props.id);}},{text:\"No\",onPress:function onPress(){return null;}}],true);this.setState({menuVisible:false});}},{key:\"handleUsernameTap\",value:function handleUsernameTap(){if(this.props.usernameTapAction){this.props.usernameTapAction(this.props.username);}}},{key:\"handleLikesTap\",value:function handleLikesTap(){this.props.likesTapAction(this.props.data);}},{key:\"setModalVisible\",value:function setModalVisible(){this.setState({menuVisible:!this.state.menuVisible});}},{key:\"render\",value:function render(){var _this4=this;return React.createElement(View,{style:[styles.commentContainer,this.getStyle(\"commentContainer\")]},React.createElement(View,{style:styles.left},React.createElement(TouchableHighlight,{onPress:this.handleUsernameTap},React.createElement(View,{style:{alignItems:\"center\"}},React.createElement(Image,{style:[styles.image,{width:30,height:30,borderRadius:15},this.getStyle(\"avatar\")],source:this.props.image===\"\"?require(\"./assets/no-user.png\"):{uri:this.props.image}}),this.props.likesNr&&this.props.likeAction?React.createElement(TouchableHighlight,{style:[styles.actionButton,{paddingTop:5}],onPress:this.handleLikesTap},React.createElement(View,{style:{flexDirection:\"row\"}},React.createElement(Icon,{name:\"heart\",color:\"#df1740\",size:15}),React.createElement(Text,{style:styles.likeNr},\" \",this.props.likesNr))):null))),React.createElement(TouchableOpacity,{onPress:function onPress(){return _this4.setState({menuVisible:false});},onLongPress:function onLongPress(){return _this4.setModalVisible();},style:styles.right},React.createElement(View,{style:styles.rightContent},React.createElement(View,{style:styles.rightContentTop},React.createElement(TouchableHighlight,{onPress:this.handleUsernameTap},React.createElement(Text,{style:[styles.name,this.getStyle(\"username\")]},this.props.username))),React.createElement(Text,{style:[styles.body,this.getStyle(\"body\")]},this.props.body)),React.createElement(View,{style:styles.rightActionBar},React.createElement(TimeAgo,{style:[styles.time,this.getStyle(\"timeAgoText\")],time:this.props.created_at}),this.props.likeAction?React.createElement(TouchableHighlight,{style:styles.actionButton,onPress:this.handleLike},React.createElement(View,{style:{flexDirection:\"row\"}},React.createElement(Text,{style:[styles.actionText,{color:this.props.liked?\"#4DB2DF\":null},this.getStyle(\"actionText\"),this.getStyle(\"likeText\")]},\"Like\",\" \"))):null,this.props.replyAction?React.createElement(TouchableHighlight,{style:styles.actionButton,onPress:this.handleReply},React.createElement(Text,{style:[styles.actionText,this.getStyle(\"actionText\"),this.getStyle(\"replyText\")]},\"Reply\")):null)),this.state.menuVisible?React.createElement(View,{style:styles.menu},React.createElement(View,{style:{flex:1.5}},this.props.canEdit(this.props.userID)?React.createElement(TouchableOpacity,{style:styles.menuItem,onPress:this.handleEdit},React.createElement(Text,{style:[styles.menuText,this.getStyle(\"menuText\"),this.getStyle(\"editText\")]},\"Edit\")):null,this.props.reportAction&&!this.props.isOwnComment?React.createElement(TouchableOpacity,{style:styles.menuItem,onPress:this.handleReport},this.props.reported?React.createElement(Text,{style:[styles.menuText,{fontStyle:\"italic\",fontSize:11},this.getStyle(\"menuText\"),this.getStyle(\"reportedText\")]},\"Reported\"):React.createElement(Text,{style:[styles.menuText,this.getStyle(\"menuText\"),this.getStyle(\"reportText\")]},\"Report\")):null,this.props.canEdit(this.props.userID)?React.createElement(TouchableOpacity,{style:styles.menuItem,onPress:this.handleDelete},React.createElement(Text,{style:[styles.menuText,this.getStyle(\"menuText\"),this.getStyle(\"deleteText\")]},\"Delete\")):null),React.createElement(View,{style:{flex:0.5,alignItems:\"center\",justifyContent:\"center\"}},React.createElement(TouchableOpacity,{style:styles.menuClose,onPress:function onPress(){return _this4.setState({menuVisible:false});}},React.createElement(Text,{style:{color:\"silver\"}},\"X\")))):null);}}]);return Comment;}(PureComponent);export{Comment as default};Comment.propTypes={data:PropTypes.object,body:PropTypes.string,styles:PropTypes.object,canEdit:PropTypes.func,canEdit:PropTypes.func,child:PropTypes.bool,editComment:PropTypes.func,likeAction:PropTypes.func,liked:PropTypes.bool,likesNr:PropTypes.number,likesTapAction:PropTypes.func,replyAction:PropTypes.func,deleteAction:PropTypes.func,reportAction:PropTypes.func,reported:PropTypes.bool,updatedAt:PropTypes.string,username:PropTypes.string,usernameTapAction:PropTypes.func};","map":{"version":3,"sources":["C:/final project/react native/finalProject-master/Comment.js"],"names":["React","PureComponent","PropTypes","TimeAgo","Icon","styles","Comment","props","getStyle","name","state","menuVisible","handleReport","bind","handleReply","handleLike","handleEdit","handleDelete","handleUsernameTap","handleLikesTap","Alert","alert","text","onPress","reportAction","id","setState","replyAction","data","likeAction","editComment","deleteAction","usernameTapAction","username","likesTapAction","commentContainer","left","alignItems","image","width","height","borderRadius","require","uri","likesNr","actionButton","paddingTop","flexDirection","likeNr","setModalVisible","right","rightContent","rightContentTop","body","rightActionBar","time","created_at","actionText","color","liked","menu","flex","canEdit","userID","menuItem","menuText","isOwnComment","reported","fontStyle","fontSize","justifyContent","menuClose","propTypes","object","string","func","child","bool","number","updatedAt"],"mappings":"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","sourcesContent":["/**\n * Created by tino on 6/6/17.\n */\nimport React, { PureComponent } from \"react\";\nimport {\n  View,\n  Text,\n  Image,\n  TouchableHighlight,\n  TouchableOpacity,\n  Alert\n} from \"react-native\";\n\nimport PropTypes from \"prop-types\";\nimport TimeAgo from \"react-native-timeago\";\nimport Icon from \"react-native-vector-icons/FontAwesome\";\nimport styles from \"./styles/styles\";\n\n\nexport default class Comment extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      menuVisible: false\n    };\n\n    this.handleReport = this.handleReport.bind(this);\n    this.handleReply = this.handleReply.bind(this);\n    this.handleLike = this.handleLike.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleUsernameTap = this.handleUsernameTap.bind(this);\n    this.handleLikesTap = this.handleLikesTap.bind(this);\n  }\n\n  getStyle = name =>\n    this.props.styles && this.props.styles[name] ? this.props.styles[name] : {};\n\n  handleReport() {\n    Alert.alert(\n      \"Confirm report\",\n      \"Are you sure you want to report?\",\n      [\n        {\n          text: \"Yes\",\n          onPress: () => this.props.reportAction(this.props.id)\n        },\n        { text: \"No\", onPress: () => null }\n      ],\n      true\n    );\n    this.setState({ menuVisible: false });\n  }\n  handleReply() {\n    this.props.replyAction(this.props.data);\n  }\n  handleLike() {\n    this.props.likeAction(this.props.data);\n  }\n  handleEdit() {\n    this.props.editComment(this.props.data);\n    this.setState({ menuVisible: false });\n  }\n\n  handleDelete() {\n    Alert.alert(\n      \"Confirm delete\",\n      \"Are you sure you want to delete?\",\n      [\n        {\n          text: \"Yes\" + this.props.id,\n          onPress: () => this.props.deleteAction(this.props.id)\n        },\n        { text: \"No\", onPress: () => null }\n      ],\n      true\n    );\n    this.setState({ menuVisible: false });\n  }\n  handleUsernameTap() {\n    if (this.props.usernameTapAction) {\n      this.props.usernameTapAction(this.props.username);\n    }\n  }\n  handleLikesTap() {\n    this.props.likesTapAction(this.props.data);\n  }\n\n  setModalVisible() {\n    this.setState({ menuVisible: !this.state.menuVisible });\n  }\n\n  render() {\n    return (\n      <View\n        style={[styles.commentContainer, this.getStyle(\"commentContainer\")]}\n      >\n        <View style={styles.left}>\n          <TouchableHighlight onPress={this.handleUsernameTap}>\n            <View style={{ alignItems: \"center\" }}>\n              <Image\n                style={[\n                  styles.image,\n                  { width: 30, height: 30, borderRadius: 15 },\n                  this.getStyle(\"avatar\")\n                ]}\n                source={\n                  this.props.image === \"\"\n                    ? require(\"./assets/no-user.png\")\n                    : { uri: this.props.image }\n                }\n              />\n              {this.props.likesNr && this.props.likeAction ? (\n                <TouchableHighlight\n                  style={[styles.actionButton, { paddingTop: 5 }]}\n                  onPress={this.handleLikesTap}\n                >\n                  <View style={{ flexDirection: \"row\" }}>\n                    <Icon name=\"heart\" color=\"#df1740\" size={15} />\n                    <Text style={styles.likeNr}> {this.props.likesNr}</Text>\n                  </View>\n                </TouchableHighlight>\n              ) : null}\n            </View>\n          </TouchableHighlight>\n        </View>\n        <TouchableOpacity\n          onPress={() => this.setState({ menuVisible: false })}\n          onLongPress={() => this.setModalVisible()}\n          style={styles.right}\n        >\n          <View style={styles.rightContent}>\n            <View style={styles.rightContentTop}>\n              <TouchableHighlight onPress={this.handleUsernameTap}>\n                <Text style={[styles.name, this.getStyle(\"username\")]}>\n                  {this.props.username}\n                </Text>\n              </TouchableHighlight>\n            </View>\n            <Text style={[styles.body, this.getStyle(\"body\")]}>\n              {this.props.body}\n            </Text>\n          </View>\n          <View style={styles.rightActionBar}>\n            <TimeAgo\n              style={[styles.time, this.getStyle(\"timeAgoText\")]}\n              time={this.props.created_at}\n            />\n            {this.props.likeAction ? (\n              <TouchableHighlight\n                style={styles.actionButton}\n                onPress={this.handleLike}\n              >\n                <View style={{ flexDirection: \"row\" }}>\n                  <Text\n                    style={[\n                      styles.actionText,\n                      { color: this.props.liked ? \"#4DB2DF\" : null },\n                      this.getStyle(\"actionText\"),\n                      this.getStyle(\"likeText\")\n                    ]}\n                  >\n                    Like{\" \"}\n                  </Text>\n                </View>\n              </TouchableHighlight>\n            ) : null}\n            {this.props.replyAction ? (\n              <TouchableHighlight\n                style={styles.actionButton}\n                onPress={this.handleReply}\n              >\n                <Text\n                  style={[\n                    styles.actionText,\n                    this.getStyle(\"actionText\"),\n                    this.getStyle(\"replyText\")\n                  ]}\n                >\n                  Reply\n                </Text>\n              </TouchableHighlight>\n            ) : null}\n          </View>\n        </TouchableOpacity>\n        {this.state.menuVisible ? (\n          <View style={styles.menu}>\n            <View style={{ flex: 1.5 }}>\n              {this.props.canEdit(this.props.userID) ? (\n                <TouchableOpacity\n                  style={styles.menuItem}\n                  onPress={this.handleEdit}\n                >\n                  <Text\n                    style={[\n                      styles.menuText,\n                      this.getStyle(\"menuText\"),\n                      this.getStyle(\"editText\")\n                    ]}\n                  >\n                    Edit\n                  </Text>\n                </TouchableOpacity>\n              ) : null}\n              {this.props.reportAction && !this.props.isOwnComment ? (\n                <TouchableOpacity\n                  style={styles.menuItem}\n                  onPress={this.handleReport}\n                >\n                  {this.props.reported ? (\n                    <Text\n                      style={[\n                        styles.menuText,\n                        { fontStyle: \"italic\", fontSize: 11 },\n                        this.getStyle(\"menuText\"),\n                        this.getStyle(\"reportedText\")\n                      ]}\n                    >\n                      Reported\n                    </Text>\n                  ) : (\n                    <Text\n                      style={[\n                        styles.menuText,\n                        this.getStyle(\"menuText\"),\n                        this.getStyle(\"reportText\")\n                      ]}\n                    >\n                      Report\n                    </Text>\n                  )}\n                </TouchableOpacity>\n              ) : null}\n              {this.props.canEdit(this.props.userID) ? (\n                <TouchableOpacity\n                  style={styles.menuItem}\n                  onPress={this.handleDelete}\n                >\n                  <Text\n                    style={[\n                      styles.menuText,\n                      this.getStyle(\"menuText\"),\n                      this.getStyle(\"deleteText\")\n                    ]}\n                  >\n                    Delete\n                  </Text>\n                </TouchableOpacity>\n              ) : null}\n            </View>\n            <View\n              style={{\n                flex: 0.5,\n                alignItems: \"center\",\n                justifyContent: \"center\"\n              }}\n            >\n              <TouchableOpacity\n                style={styles.menuClose}\n                onPress={() => this.setState({ menuVisible: false })}\n              >\n                <Text style={{ color: \"silver\" }}>X</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        ) : null}\n      </View>\n    );\n  }\n}\n\nComment.propTypes = {\n  data: PropTypes.object,\n  body: PropTypes.string,\n  styles: PropTypes.object,\n  canEdit: PropTypes.func,\n  canEdit: PropTypes.func,\n  child: PropTypes.bool,\n  editComment: PropTypes.func,\n  likeAction: PropTypes.func,\n  liked: PropTypes.bool,\n  likesNr: PropTypes.number,\n  likesTapAction: PropTypes.func,\n  replyAction: PropTypes.func,\n  deleteAction: PropTypes.func,\n  reportAction: PropTypes.func,\n  reported: PropTypes.bool,\n  updatedAt: PropTypes.string,\n  username: PropTypes.string,\n  usernameTapAction: PropTypes.func\n};\n"]},"metadata":{},"sourceType":"module"}